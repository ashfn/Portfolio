"use strict";var M=Object.create;var p=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var C=(t,e)=>{for(var n in e)p(t,n,{get:e[n],enumerable:!0})},y=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of D(e))!b.call(t,s)&&s!==n&&p(t,s,{get:()=>e[s],enumerable:!(r=S(e,s))||r.enumerable});return t};var P=(t,e,n)=>(n=t!=null?M(T(t)):{},y(e||!t||!t.__esModule?p(n,"default",{value:t,enumerable:!0}):n,t)),A=t=>y(p({},"__esModule",{value:!0}),t);var $={};C($,{getCollections:()=>N,getDocumentBySlug:()=>F,getDocumentPaths:()=>_,getDocumentSlugs:()=>x,getDocuments:()=>E});module.exports=A($);var i=P(require("fs")),c=require("path"),f=P(require("gray-matter")),a=(0,c.join)(process.cwd(),process.env.OST_CONTENT_PATH||"outstatic/content"),d=/\.mdx?$/i;function x(t){let e=(0,c.join)(a,t);return O(e).map(s=>s.replace(d,""))}function F(t,e,n=[]){try{let r=e.replace(d,""),s=(0,c.join)(a,t),u=(0,c.join)(s,`${r}.md`),g=i.default.readFileSync(u,"utf8"),{data:l,content:h}=(0,f.default)(g),m={};return l.status==="draft"?{}:(n.forEach(o=>{o==="slug"&&(m[o]=r),o==="content"&&(m[o]=h),typeof l[o]<"u"&&(m[o]=l[o])}),m)}catch(r){return console.error({getDocumentBySlug:r}),{}}}function E(t,e=[]){return x(t).map(s=>F(t,s,[...e,"publishedAt","status"])).filter(s=>s.status==="published").sort((s,u)=>s.publishedAt>u.publishedAt?-1:1)}var _=t=>{try{return i.default.readdirSync(a+"/"+t).filter(s=>d.test(s)).filter(s=>{let u=(0,c.join)(a,t),g=(0,c.join)(u,`${s}`),l=i.default.readFileSync(g,"utf8"),{data:h}=(0,f.default)(l);return h.status==="published"}).map(s=>s.replace(d,"")).map(s=>({params:{slug:s}}))}catch(e){return console.error({getDocumentPaths:e}),[]}},N=()=>{try{return i.default.readdirSync(a)}catch(t){return console.error({getCollections:t}),[]}};function O(t){try{return i.default.readdirSync(t,{withFileTypes:!0}).filter(r=>r.isFile()&&d.test(r.name)).map(r=>r.name)}catch(e){return console.error({readMdMdxFiles:e}),[]}}0&&(module.exports={getCollections,getDocumentBySlug,getDocumentPaths,getDocumentSlugs,getDocuments});
